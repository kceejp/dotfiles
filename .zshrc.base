export PATH=$PATH:/usr/sbin:/sbin

autoload -U compinit
compinit

# autoload predict-on; predict-on
zstyle ':completion:*:sudo:*' command-path /usr/local/sbin /usr/local/bin /usr/sbin /usr/bin /sbin /bin /usr/X11R6/bin

#------------------------------
# キー設定
#------------------------------

# バックスペースキー
# bindkey '^[[3~' backward-delete-char
bindkey "[3~" delete-char

# ESC+qでコマンドスタック
bindkey "^Q" push-line
bindkey -a 'q' push-line

#------------------------------
# 設定
#------------------------------

# 色を使う
setopt prompt_subst

# 補完リストを自動表示
setopt auto_list
# 補完リストをコンパクト表示
setopt list_packed
# 補完リストの種類をマーク
setopt list_types
# --prefix=/usr などの = 以降も補完
setopt magic_equal_subst
# ディレクトリの場合は/を付ける
setopt mark_dirs
# tabで候補きりかえ
setopt auto_menu
# カッコの対応などを自動的に補完
setopt auto_param_keys
# ディレクトリ名の補完で末尾の / を自動的に付加し、次の補完に備える
setopt auto_param_slash
# 補完に色づけ
# eval `dircolors`
# LS_COLORS='no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:bd=40;33;01:cd=40;33;01:ex=01;32:*.tar=01;31'
# export LS_COLORS
export ZLS_COLORS=$LS_COLORS
zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}
# 補完候補のカーソル選択
zstyle ':completion:*:default' menu select=1

# ディレクトリ名だけで移動
setopt auto_cd
# ディレクトリ移動履歴を常に記録する
setopt auto_pushd
# ディレクトリ移動履歴をダブらせない
setopt pushd_ignore_dups

# 語の途中でもカーソル位置で補完
setopt complete_in_word

# jobsをjobs -lに
setopt long_list_jobs
# サスペンド中のコマンドと一致すればresume
setopt auto_resume

# スペルチェック
# setopt correct

# do not error when filename or directory completion gets fail
setopt nonomatch

# 文字化け対策
setopt print_eight_bit

# 色の定義
# local DEFAULT=$'%{[m%}'
# local RED=$'%{[1;31m%}'
# local GREEN=$'%{[1;32m%}'
# local YELLOW=$'%{[1;33m%}'
# local BLUE=$'%{[1;34m%}'
# local PURPLE=$'%{[1;35m%}'
# local LIGHT_BLUE=$'%{[1;36m%}'
# local WHITE=$'%{[1;37m%}'
# 
# unsetopt sh_wordsplit
# unsetopt autoremoveslash
# source ~/.zsh/plugin/auto-fu/auto-fu.zsh; zle-line-init () { auto-fu-init; }; zle -N zle-line-init
# zstyle ':completion:*' completer _oldlist _complete _match _ignored _approximate
# zstyle ':completion:*' verbose yes
# zstyle ':completion:*' completer _expand _complete _match _prefix _approximate _list _history
# zstyle ':completion:*:messages' format $YELLOW'%d'$DEFAULT
# zstyle ':completion:*:warnings' format $RED'No matches for:'$YELLOW' %d'$DEFAULT
# zstyle ':completion:*:descriptions' format $YELLOW'completing %B%d%b'$DEFAULT
# zstyle ':completion:*:corrections' format $YELLOW'%B%d '$RED'(errors: %e)%b'$DEFAULT
# zstyle ':completion:*:options' description 'yes'
# # グループ名に空文字列を指定すると，マッチ対象のタグ名がグループ名に使われる。
# # したがって，すべての マッチ種別を別々に表示させたいなら以下のようにする
# zstyle ':completion:*' group-name ''
